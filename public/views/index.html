<section data-ng-controller="IndexController">
	<h1>Sharptung</h1>
	<br />
    <label class="col-md-5 control-label">Translate</label>
    <div class="col-md-8">
        <input id="translate" class="form-control" type="text" name="translate" placeholder="" autofocus></input>
    </div>
    <div class="col-md-8">
        <select id="language_list" populate-lang-opts>
        </select>
    </div>
    <div class="col-md-offset-4 col-md-8">
        <button id="submitButton" translateClick class="btn btn-primary">Submit</button>
    </div>
    <div id="output"></div>

	<script>
	document.getElementById("submitButton").addEventListener('click', doTranslation, false);
    
    function selectLanguage(event) {
        var toTranslate = document.getElementById("translate").value;
        var toLanguage = document.getElementById('language-list').value;
        var jsonRequestUrl = "http://sharptongue.herokuapp.com/translate/"+toTranslate+"/to/"+toLanguage;
        jQuery.getJSON(jsonRequestUrl, function(data) {
            var items = [];
            $.each( data, function(key, val) {
                items.push("<li id='"+key+"'>"+val+"</li>");
            });
        
            $("<ul/>", {
                "class": "my-new-list",
                html: items.join("")
            }).appendTo("body");
        });
    }
    document.getElementById('translate').addEventListener('change', selectLanguage, false);
    document.getElementById('language-list').addEventListener('change', selectLanguage, false);
	</script>
</section>